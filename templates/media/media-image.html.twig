{% extends 'media.html.twig' %}


{% block maincontent %}
    <section class="wrapper_tabcontent">
        <article id="picture" class="tab-content current">
            <article class="display site-display ">
                <div class="display-content">

                    <div class="top">

                        <div class="actions-btn-container">

                            <div class="left-btns">

                                {% if uploadIsAuthorizedOnPage is defined and uploadIsAuthorizedOnPage is not same as(false) %}
                                    <div class="upload-btn-container container">
                                        <button type="button" class="btn btn-upload add-table"><i class="fas fa-plus"></i>UPLOAD</button>
                                    </div>
                                {% endif %}

                                <div class="show-media-waiting-incrustation-container container">
                                    <button type="button" id="show-media-waiting-incrustation" class="btn">
                                        <i class="fas fa-hourglass-half"></i>
                                        En attente d'incrustation
                                    </button>
                                    <span class="media-waiting-incrustation-number">{{ mediasWaitingForIncrustes['size'] }}</span>
                                </div>

                                <div class="show-archived-media-container container">
                                    <button type="button" id="show-archived-media-button" class="btn">
                                        <i class="fas fa-archive"></i>
                                        Médias archivés
                                    </button>
                                    <span class="archived-medias-number">{{ archivedMedias['size'] }}</span>
                                </div>

                            </div>

                            <div class="display-btn right-btns">

                                <div class="container">
                                    <span>Medias : </span>
                                </div>

                                <div class="container">
                                    <button type="button" class="btn add-table"><i class="fas fa-pen"></i>Ajouter</button>
                                </div>

                                <div class="container">
                                    <button type="button" class="btn duplicate-table"><i class="fas fa-plus"></i>Dupliquer</button>
                                </div>

                                <div class="container">
                                    <button type="button" class="tags-table">TAG</button>
                                </div>

                                <div class="container">
                                    <button type="button" class="btn delete-table"><i class="fas fa-trash"></i>Supprimer</button>
                                </div>

                            </div>

                        </div>

                    </div>

                    <div class="body">

                        <div class="filters-container">

                            <div class="left-filter-container">

                                <div class="filter-by-orientation-or-type-container">

                                    <div class="show-only-horizontal-media-filter filter">
                                        <i class="fas fa-mobile"></i> <br>
                                        <span>Horizontal</span>
                                    </div>

                                    <div class="show-only-vertical-media-filter filter">
                                        <i class="fas fa-mobile"></i> <br>
                                        <span>Vertical</span>
                                    </div>

                                    <div class="show-only-images-filter filter">
                                        <i class="fas fa-image"></i> <br>
                                        <span>Images</span>
                                    </div>

                                    <div class="show-only-videos-filter filter">
                                        <i class="fab fa-youtube"></i> <br>
                                        <span>Videos</span>
                                    </div>

                                </div>

                                <div class="filter-by-characteristics-container">

                                    <div class="filter-by-categories-container">
                                        <select name="" id="filter-by-categorie">
                                            <option value="">Catégories</option>
                                            {% for categorie in categories %}
                                                <option value="{{ categorie.id }}">{{ categorie.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <div class="filter-by-products-container">
                                        <select name="" id="filter-by-product">
                                            <option value="">Produits</option>
                                            {% for product in products %}
                                                <option value="{{ product.id }}">{{ product.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <div class="filter-by-criterions-container">
                                        <select name="" id="">
                                            <option value="">Critères</option>
                                        </select>
                                    </div>

                                    <div class="filter-by-tags-container">
                                        <select name="" id="">
                                            <option value="">Tags</option>
                                            {% for tag in tags %}
                                                <option value="{{ tag.id }}">{{ tag.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <div class="filter-validation-btn-container">
                                        <button type="button">FILTER</button>
                                    </div>

                                </div>

                            </div>

                            <div class="right-filter-container">

                                <div class="filter-by-created-date-container">
                                    <select name="" id="medias-sortable-by-date">
                                        <option value="desc" selected>Les plus récents d'abord</option>
                                        <option value="asc">Les plus anciens d'abord</option>
                                    </select>
                                </div>

                                <div class="pagination-container">

                                    <div class="displayed-elements-number-selection-container">
                                        <select name="" id="displayed-elements-number-selection">
                                            {% for choice in numberOfMediasAllowedToDisplayed %}
                                                <option value="{{ choice }}" {% if choice is same as(app.session.get('numberOfMediasDisplayedInMediatheque')|string_to_int) %} selected {% endif %}>{{ choice }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>

                                    <div class="pages-container">
                                        {% for i in 1..numberOfPages %}
                                            <a class="page {% if app.request.attributes.get('_route_params')['page']|string_to_int is same as(i) %}current_page{% endif %}" href="{{ path('media::showMediatheque', {mediasDisplayedType: app.request.attributes.get('_route_params')['mediasDisplayedType'], page: i}) }}">{{ i }}</a>
                                        {% endfor %}
                                    </div>

                                </div>

                            </div>

                        </div>


                        <div class="medias-list-container">

                            {% if mediasToDisplayed['images'] is defined and mediasToDisplayed['images'] is not empty %}

                                {% include "/media/_media_card.html.twig" with { 'container_id': 'medias-images-container', 'subject': mediasToDisplayed['images'], 'media_type': 'image' } %}

                            {% endif %}


                            {% if mediasToDisplayed['videos'] is defined and mediasToDisplayed['videos'] is not empty %}

                                {% include "/media/_media_card.html.twig" with { 'container_id': 'medias-images-container', 'subject': mediasToDisplayed['videos'], 'media_type': 'video' } %}

                            {% endif %}

                        </div>


                    </div>

                </div>
            </article >

            {% if uploadIsAuthorizedOnPage is defined and uploadIsAuthorizedOnPage is same as(true) %}

                {% include "/popups/upload-popup.html.twig" %}

            {% endif %}
        </article>
    </section>

{% endblock %}