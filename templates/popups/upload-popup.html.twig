<section id="upload_popups">

    <article class="add-popup upload_popup">
        <div class="modal">

            <div class="header-modal">
                <div>
                    <p class="upload-title">Préparation de l'Upload</p>
                    <button type="button" class="btn btn-popupclose upload_abort">X</button>
                </div>
            </div>

            <div class="model-upload-file files_selection">

                <div class="upload-file">
                    <form id="uploadForm">

                        <div class="box__input dragndrop_download_input_container">
                            <span>Déposez votre ou vos fichiers ici</span> <br>
                            <img src="{{ asset('/build/images/download_icon.png') }}" alt="download icon">
                        </div>

                        <div class="basic_download_input_container">
                            <label for="uploadmedia">Sélectionner vos fichiers</label>
                            <input type="file" id="uploadmedia" class="uploadbtn" name="uploadmedia" multiple>
                        </div>

                    </form>
                </div>

                <div class="upload-info">

                    <div class="table">
                        <table class="table-custome" >
                            <thead  class="table-info thead-content">
                            <tr>
                                <th>Liste des médias déposés :</th>
                                <th></th>
                                <th>Formats acceptés</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody class="tbody tbody-content upload-file-list scrollbar-table">

                            </tbody>
                        </table>
                    </div>

                </div>

                <div class="start-upload-container">
                    <span class="error error_over-max-file"></span>
                    <button type="button" class="product-btn-add start_upload_button" style="display: none">Démarrer l'upload</button>
                </div>

            </div>

            <div class="edit_media_info" style="display: none">

                <div class="media_list_container">

                    <div class="hidden">
                        {{ form_start(form) }}
                        <ul class="medias_collection" data-prototype="{{ form_widget(form.medias.vars.prototype)|e('html_attr') }}" data-widget-tags="{{ '<li></li>'|e }}"></ul>
                        {{ form_end(form) }}
                    </div>

                    <table class="media_list">

                        <thead>
                        <tr>
                            <th class="uploaded-file-name-col">Fichier</th>
                            <th class="file-upload-state-col">Téléchargement</th>
                            <th style="display: none" class="media-choice-input-col"></th>
                            <th>Médias</th>
                            <th>Caractéristiques</th>
                            <th>Nom</th>
                            <th>Date de diffusion</th>
                            <th>Critères</th>
                            <th>Affecter TAGS</th>
                            <th>Associer produits</th>
                            <th>Incrustations</th>
                        </tr>
                        </thead>

                        <tbody class="tbody">

                        </tbody>

                    </table>
                </div>

                <div class="action-btn-container">

                    <div class="edit-btn-container" style="display: none">
                        <button type="button" class="cancel-all-upload">Annuler</button>
                        <button type="button" class="save-media-modif">Enregistrer</button>
                        <button type="button" class="show-media-info-resume" style="display: none;">Suivant</button>
                    </div>

                    <div class="main-btn-container" style="display: none">
                        <button type="button" class="show-media-edit-btn">&leftarrow; Précédent</button>
                        <button type="button" class="replace-media-btn">Remplacer un média</button>
                        <button type="button" class="program-media-btn">Programmer</button>
                        <button type="button" class="show-mediatheque-btn">Médiathèque</button>
                    </div>

                </div>

            </div>

        </div>
    </article>

    <article class="associate_product-popup association-popup hidden">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title-container">
                    <p class="title">Associer des produits au média : <span class="media_name"></span></p>
                </div>
                <div class="close-modal-container">
                    <button type="button" class="btn close">X</button>
                </div>
            </div>

            <div class="modal-body">

                <div class="body-top">
                    <div class="filter-left filter-by-category">
                        <select class="product-category-choice">
                            <option value="">Tout afficher</option>
                            {% for categorie in categories %}
                                <option value="{{ categorie.id }}">{{ categorie.name }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div class="filter-right filter-by-field">
                        <input type="search" name="search[product]" placeholder="Rechercher un élément..." required>
                    </div>
                </div>

                <div class="body-middle">

                    <section class="product-choice-list-container">

                        <table>
                            <thead>
                            <tr>
                                <th><input type="checkbox" class="select_all_products"></th>
                                <th>Nom du produit</th>
                                <th>Description</th>
                                <th>TAGS</th>
                            </tr>
                            </thead>

                            <tbody class="product-choice-list">
                            {% for product in products %}
                                <tr data-product_id="{{ product.id }}" data-category="{{ product.category.id }}" data-product_criterions="{{ productsCriterions[product.name] | join(', ') }}">
                                    <td><input type="checkbox" class="choice_product" data-product_name="{{ product.name }}"></td>
                                    <td class="product_name">{{ product.name }}</td>
                                    <td>{{ product.description }}</td>
                                    <td>
                                        {% for tag in product.tags %}
                                            <span>{{ tag.name }}</span>
                                        {% endfor %}
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>

                    </section>

                    <section class="product-associated-list-container">

                        <table>

                            <thead>
                            <tr>
                                <th>Produits à associer</th>
                                <th></th>
                            </tr>
                            </thead>

                            <tbody class="product-associated-list">

                            </tbody>

                        </table>

                    </section>

                </div>

                <div class="body-bottom">

                    <div class="cancel-btn-container">
                        <button type="button" class="cancel close">Annuler</button>
                    </div>

                    <div class="validation-btn-container">
                        <button type="button" class="validation-btn">Valider</button>
                    </div>

                </div>

            </div>

        </div>
    </article>

    <article class="associate_tag-popup association-popup hidden">

        <div class="modal">
            <div class="modal-header">
                <div class="modal-title-container">
                    <p>TAGS à affecter à : <span class="media_name"></span></p>
                </div>
                <div class="close-modal-container">
                    <button type="button" class="btn close">X</button>
                </div>
            </div>

            <div class="modal-body">

                <div class="body-middle">

                    <div class="tags-list-container">
                        <table>
                            <thead>
                            <tr>
                                <th></th>
                                <th><button type="button" class="create-tag-button">Créer TAG</button></th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody class="tags-list">
                            {% for tag in tags %}
                                <tr data-tag_id="{{ tag.id }}">
                                    <td><input type="checkbox" class="choice_tag"></td>
                                    <td class="tag-name"><p>{{ tag.name }}</p></td>
                                    <td><p>{{ tag.description }}</p></td>
                                </tr>
                            {% endfor %}
                            </tbody>
                        </table>
                    </div>

                </div>

                <div class="body-bottom">

                    <div class="validation-btn-container">
                        <button type="button" class="validation-btn">Affecter au produit</button>
                    </div>

                </div>

            </div>

        </div>

    </article>

    <article class="expand-miniature-container">

    </article>

</section>